I"ºG<h3 id="éœ€æ±‚æè¿°">éœ€æ±‚æè¿°</h3>

<p>æœ‰1åˆ°8å…«ä¸ªæ•°å­—ï¼Œæ”¾åœ¨ä¸€ä¸ª3x3çš„ä¹å®«æ ¼é‡Œé¢ï¼Œé‚£ä¹ˆä¼šç•™ä¸‹ä¸€ä¸ªç©ºæ ¼ã€‚</p>

<p><img src="http://image.augustrush8.com/images/hua1.png" alt="" class="center" /></p>

<p>ç©ºæ ¼å¯ä»¥å’Œä¸Šä¸‹å·¦å³çš„æ•°å­—è¿›è¡Œäº¤æ¢ï¼Œä½ å¯ä»¥è®¤ä¸ºç©ºæ ¼åœ¨ç§»åŠ¨ã€‚å¦‚æœç§»åŠ¨æˆ</p>

<p><img src="http://image.augustrush8.com/images/hua2.png" alt="" class="center" /></p>

<p>åˆ™æ¸¸æˆèƒœåˆ©ã€‚</p>

<p>ä½ éœ€è¦å®Œæˆä»¥ä¸‹2ä»¶äº‹æƒ…ï¼š</p>

<p>1ã€ç»™å‡ºæ•°æ®ç»“æ„æ¥æè¿°è¿™ä¸ªè¿‡ç¨‹ã€‚</p>

<p>2ã€ç»™ä½ ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œå‘Šè¯‰æˆ‘èƒ½ä¸èƒ½èƒœåˆ©ï¼Œå¹¶ç»™å‡ºå¦‚ä½•ç§»åŠ¨æ‰èƒ½èƒœåˆ©ã€‚</p>

<p>ç¬¬ä¸€ä¸ªé—®é¢˜æ¯”è¾ƒå¥½åšï¼Œå°±æ˜¯å®šä¹‰å‡ ä¸ªçŠ¶æ€é‡å’Œè¡Œä¸ºæ–¹æ³•å³å¯ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HuaRongDao</span> <span class="o">{</span>
    <span class="c1">//å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„æ¥è¡¨ç¤ºè¿™ä¸ªæ£‹ç›˜</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[][]</span> <span class="n">arr</span><span class="o">;</span>
    <span class="c1">//æ–¹å‘ç§»åŠ¨æ ‡è¯†</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">left</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">right</span><span class="o">=</span><span class="mi">2</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">up</span><span class="o">=</span><span class="mi">3</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">down</span><span class="o">=</span><span class="mi">4</span><span class="o">;</span>

    <span class="c1">//xï¼Œyè®°å½•å½“å‰èµ°åˆ°å“ªä¸€æ­¥,å³ç©ºæ ¼åœ¨ä»€ä¹ˆä½ç½®</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">x</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">y</span><span class="o">;</span>
    <span class="c1">//å®šä¹‰ç§»åŠ¨çš„è½¨è¿¹æ•°ç»„</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">=</span><span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>

    <span class="c1">//åˆå§‹åŒ–è¿™ä¸ªäºŒç»´æ•°ç»„å¹¶æ‰¾åˆ°ç©ºæ ¼çš„ä½ç½®</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">findBlank</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">array</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">arr</span><span class="o">=</span><span class="n">array</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">array</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">array</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]==</span><span class="mi">0</span><span class="o">){</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">x</span><span class="o">=</span><span class="n">i</span><span class="o">;</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">y</span><span class="o">=</span><span class="n">j</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">canMove</span><span class="o">(</span><span class="kt">int</span> <span class="n">dir</span><span class="o">){</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">dir</span><span class="o">){</span>
            <span class="k">case</span> <span class="nl">left:</span><span class="k">return</span> <span class="n">y</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">right:</span><span class="k">return</span> <span class="n">y</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">up:</span><span class="k">return</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">down:</span><span class="k">return</span> <span class="n">x</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">move</span><span class="o">(</span><span class="kt">int</span> <span class="n">dir</span><span class="o">){</span>
        <span class="kt">int</span> <span class="n">temp</span><span class="o">;</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">dir</span><span class="o">){</span>
            <span class="k">case</span> <span class="nl">left:</span><span class="o">{</span>
                <span class="n">temp</span><span class="o">=</span><span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">]=</span><span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]=</span><span class="n">temp</span><span class="o">;</span>
                <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">case</span> <span class="nl">right:</span><span class="o">{</span>
                <span class="n">temp</span><span class="o">=</span><span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">]=</span><span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]=</span><span class="n">temp</span><span class="o">;</span>
                <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">case</span> <span class="nl">up:</span><span class="o">{</span>
                <span class="n">temp</span><span class="o">=</span><span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]=</span><span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]=</span><span class="n">temp</span><span class="o">;</span>
                <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">case</span> <span class="nl">down:</span><span class="o">{</span>
                <span class="n">temp</span><span class="o">=</span><span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]=</span><span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]=</span><span class="n">temp</span><span class="o">;</span>
                <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">(){</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">length</span><span class="o">;</span><span class="n">j</span><span class="o">++){</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]+</span><span class="s">" "</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p>è‡³äºç¬¬äºŒé—®ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªé—®é¢˜</p>

<p>å¯¹äºä»¥ä¸‹è¿·å®«ï¼Œåº”è¯¥æ€ä¹ˆèµ°ï¼Ÿ</p>

<p><img src="http://image.augustrush8.com/images/hua3.png" alt="" class="center" /></p>

<p>å¾ˆæ˜¾ç„¶ï¼Œäººçœ¼ä¸€çœ‹å°±å¤§æ¦‚çŸ¥é“æ€ä¹ˆèµ°ã€‚</p>

<p><img src="http://image.augustrush8.com/images/hua4.png" alt="" class="center" /></p>

<p>è®¡ç®—æœºåº”è¯¥æ€ä¹ˆèµ°å‘¢ï¼Ÿ</p>

<p>æ¯ä¸ªç‚¹éƒ½å¯ä»¥æŒ‰ç…§å³ä¸‹å·¦ä¸Šçš„æ–¹å‘æ¥è¿›è¡Œå°è¯•ï¼Œå¦‚æœæ˜¯å¢™å£ï¼Œå°±æ¢ä¸€ä¸ªæ–¹å‘ï¼Œå¦‚æœå¯ä»¥èµ°ï¼Œå°±å¾€å‰èµ°åˆ°ä¸‹ä¸€ç‚¹ï¼Œç„¶åå†æ¥ç€å°è¯•ã€‚ç›´åˆ°åˆ°è¾¾ç»ˆç‚¹ä¸ºæ­¢ã€‚</p>

<p><img src="http://image.augustrush8.com/images/hua5.png" alt="" class="center" /></p>

<p>å››ä¸ªæ–¹å‘é¡ºåºå°è¯•ï¼Œå¦‚æœèƒ½å¤Ÿèµ°é€šï¼Œå°±ç»§ç»­å¾€ä¸‹èµ°ï¼Œæ¥ç€å°è¯•ä¸‹ä¸€ç‚¹ã€‚</p>

<p>è¿™é‡Œæ‰€è¯´çš„å°è¯•ï¼Œå³æ˜¯æœç´¢ã€‚</p>

<p>å‰é¢å·²ç»èµ°è¿‡ä¸¤æ­¥äº†ï¼Œä¸‹é¢çœ‹çœ‹ç¬¬ä¸‰æ­¥æ€ä¹ˆèµ°ï¼š</p>

<p><img src="http://image.augustrush8.com/images/hua6.png" alt="" class="center" /></p>

<p>æœç´¢çš„æ—¶å€™ï¼Œä¸å†æœç´¢ä¸€äº›æ˜æ˜¾ä¸å¯¹çš„æ–¹å‘ï¼Œè¿™åœ¨æœç´¢ç®—æ³•å½“ä¸­å«åšå‰ªæã€‚å‰ªæ‰æ²¡ç”¨çš„åˆ†æ”¯ï¼Œæé«˜æ•ˆç‡</p>

<p>å†çœ‹ä¸€ä¸ªè¿·å®«ï¼š</p>

<p><img src="http://image.augustrush8.com/images/hua7.png" alt="" class="center" /></p>

<p>ä¸€çœ¼å°±èƒ½çœ‹å‡ºçš„èµ°æ³•ï¼š</p>

<p><img src="http://image.augustrush8.com/images/hua8.png" alt="" class="center" /></p>

<p>ç®—æ³•æ¥è¿›è¡Œæœç´¢å‘¢ï¼Ÿ</p>

<p><img src="http://image.augustrush8.com/images/hua9.png" alt="" class="center" /></p>

<p>æ­¤æ—¶ç¬¬ä¸‰æ­¥ä¼šå‘ç°å³è¾¹èƒ½èµ°ï¼Œå°±å¾€å³è¾¹èµ°ï¼Œä½†ä¼šå‘ç°å³è¾¹æ˜¯ä¸€ä¸ªæ­»èƒ¡åŒã€‚é‚£ä¹ˆè¿™æ˜¯å°±åº”è¯¥â€œå›æº¯â€ã€‚</p>

<p>æ³¨æ„ï¼Œè¿™å—å¹¶ä¸æ˜¯å¾€å·¦èµ°ï¼Œè€Œæ˜¯å›é€€ï¼Œé€€å›åˆ°ä¸Šä¸€æ­¥ã€‚å¦‚æœæˆ‘ä»¬æ­£åœ¨å¾€å‰æœç´¢ï¼Œå½“ç„¶ä¸èƒ½èµ°å›å¤´è·¯ã€‚ä½†æ˜¯å½“å‰é¢æ²¡æœ‰è·¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦è¿”å›æ¥ï¼Œæ‰¾åˆ°ä¹‹å‰æœ‰å¯èƒ½å‡ºç°å²”è·¯å£çš„åœ°æ–¹ï¼Œå†å»ä¸‹ä¸€ä¸ªæ–¹å‘è¿›è¡Œæœç´¢ã€‚</p>

<p><img src="http://image.augustrush8.com/images/hua10.png" alt="" class="center" /></p>

<p>é‚£ä¹ˆï¼Œå¯¹åº”äºåŸæ¥çš„é—®é¢˜æˆ‘ä»¬åº”è¯¥æ€ä¹ˆè§£å‘¢ï¼Ÿ</p>

<p>åŠ å…¥ä»¥ä¸‹é¢è¿™ä¸ªçŠ¶æ€å¼€å§‹ï¼š</p>

<p><img src="http://image.augustrush8.com/images/hua11.png" alt="" class="center" /></p>

<p>æ¥ç€ï¼š</p>

<p><img src="http://image.augustrush8.com/images/hua12.png" alt="" class="center" /></p>

<p>å†æ¥ç€ï¼š</p>

<p><img src="http://image.augustrush8.com/images/hua13.png" alt="" class="center" /></p>

<p>é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™åº”è¯¥å›æº¯å‘¢ï¼Ÿé‚£å°±æ˜¯å‘ç°ç¢°åˆ°â€œ<strong>æ­»èƒ¡åŒ</strong>â€çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰çš„è·¯éƒ½èµ°ä¸é€šçš„æ—¶å€™</p>

<p>è¿™ä¸ªå›æº¯çš„è¿‡ç¨‹å°±è·Ÿæ ˆéå¸¸ç±»ä¼¼ï¼Œå¾€å‰èµ°ä¸€æ­¥å°±åƒæ˜¯å…¥æ ˆï¼Œåˆ°äº†æ­»èƒ¡åŒï¼Œè¦å¾€å›é€€ï¼Œå°±åƒæ˜¯å‡ºæ ˆã€‚ä½†ç”¨é€’å½’æ¥ç¼–ç ï¼Œç›¸å¯¹æ¥è¯´éš¾åº¦è¦å°ä¸€ç‚¹ã€‚</p>

<p><img src="http://image.augustrush8.com/images/hua14.png" alt="" class="center" /></p>

<p>å½“ç„¶ï¼Œé€’å½’åœ¨è®¡ç®—æœºé‡Œé¢ä¹Ÿæ˜¯ç”¨æ ˆå®ç°çš„ï¼Œç”¨é€’å½’çš„è¯ï¼Œä¼šæ¸…æ™°ä¸å°‘ã€‚</p>

<p>æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼Œæˆ‘å¦‚ä½•åˆ¤æ–­åˆ°è¾¾äº†èƒœåˆ©çš„çŠ¶æ€å‘¢ï¼Ÿ</p>

<p>æƒ³ä¸€æƒ³ï¼Œå¦‚æœæ¯ä¸€æ¡è·¯éƒ½è¢«å µä½çš„è¯ï¼Œå›æº¯å°±ä¼šå›åˆ°èµ·ç‚¹äº†å§ï¼Œå¦‚æœå›åˆ°èµ·ç‚¹çŠ¶æ€è¿˜æ²¡æœ‰èƒœåˆ©çš„è¯ï¼Œå°±æ˜¯ä¸èƒ½åˆ°è¾¾èƒœåˆ©çŠ¶æ€äº†ã€‚</p>

<p>æœ€åä¸€ä¸ªé—®é¢˜ï¼Œæ­£ç¡®çš„ç§»åŠ¨æ­¥éª¤åº”è¯¥å¦‚ä½•è®°å½•å‘¢ï¼Ÿ</p>

<p>æ€è€ƒï¼šèµ°è¿·å®«çš„æ—¶å€™ï¼Œæ¯èµ°ä¸€æ­¥ï¼Œå°±æŠŠè¿™ä¸€æ­¥æ˜¯å¾€å“ªèµ°çš„è®°å½•ä¸‹æ¥ï¼Œä½†æ˜¯ç¢°åˆ°äº†æ­»èƒ¡åŒï¼Œå¾€å›é€€çš„æ—¶å€™ï¼ŒåˆæŠŠä¹‹å‰è®°å½•çš„æ­¥éª¤æœ€åä¸€æ­¥å»æ‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¾¾åˆ°ç»ˆç‚¹çš„æ—¶å€™ï¼Œè®°ä¸‹æ¥çš„æ­¥éª¤å°±æ˜¯ä¸€æ¡ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„äº†ã€‚</p>

<p>è®°å½•ç§»åŠ¨è·¯å¾„ï¼Œå…¶å®å°±æ˜¯åœ¨çœŸæ­£æœç´¢ä¹‹å‰ï¼ŒæŠŠæ–¹å‘è®°å½•ä¸‹æ¥ï¼Œè€Œæœç´¢å¦‚æœè¦è¿”å›äº†ï¼Œåˆ™è¯´æ˜è¯¥æ¬¡æœç´¢å·²ç»ç»“æŸï¼Œæ²¡æœ‰ç»“æœï¼Œåº”è¯¥æŠŠè¯¥è®°å½•å»é™¤ã€‚</p>

<p><img src="http://image.augustrush8.com/images/hua15.png" alt="" class="center" /></p>

<p>çœ‹çœ‹å…·ä½“çš„ä»£ç å®ç°ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">leyou</span><span class="o">.</span><span class="na">test</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.HashSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HuaRongDao</span> <span class="o">{</span>

    <span class="c1">// å®šä¹‰æ–¹å‘</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">LEFT</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">RIGHT</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">UP</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DOWN</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>

    <span class="c1">// 3x3çš„ä¹å®«æ ¼</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[][]</span> <span class="n">arr</span><span class="o">;</span>

    <span class="c1">// è®°å½•ç©ºæ ¼çš„ä½ç½®</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">x</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">y</span><span class="o">;</span>

    <span class="c1">// å®šä¹‰ç§»åŠ¨çš„æ•°ç»„</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">moveArr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>

    <span class="c1">// å®šä¹‰ç»ˆç‚¹çŠ¶æ€</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">Integer</span> <span class="no">WIN_STATE</span> <span class="o">=</span> <span class="mi">123456780</span><span class="o">;</span>

    <span class="c1">// ä¿å­˜å·²ç»æœç´¢è¿‡çš„çŠ¶æ€</span>
    <span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">statusSet</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>

    <span class="c1">// åˆå§‹åŒ–ï¼Œæ•°å­—0ä»£è¡¨ç©ºæ ¼ï¼Œå…ˆéå†ï¼Œæ‰¾å‡ºç©ºæ ¼çš„ä½ç½®</span>
    <span class="kd">public</span> <span class="nf">HuaRongDao</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">arr</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">arr</span> <span class="o">=</span> <span class="n">arr</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// åˆ¤æ–­æ˜¯å¦å¯ä»¥æœæŸä¸ªæ–¹å‘è¿›è¡Œç§»åŠ¨</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">canMove</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// y &gt; 0æ‰èƒ½å·¦ç§»</span>
            <span class="k">case</span> <span class="nl">LEFT:</span>
                <span class="k">return</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
            <span class="c1">// y &lt; 2æ‰èƒ½å³ç§»</span>
            <span class="k">case</span> <span class="nl">RIGHT:</span>
                <span class="k">return</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">;</span>
            <span class="c1">// x &gt; 0æ‰èƒ½ä¸Šç§»</span>
            <span class="k">case</span> <span class="nl">UP:</span>
                <span class="k">return</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
            <span class="c1">// x &lt; 2æ‰èƒ½ä¸‹ç§»</span>
            <span class="k">case</span> <span class="nl">DOWN:</span>
                <span class="k">return</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// æœæŸä¸ªæ–¹å‘è¿›è¡Œç§»åŠ¨ï¼Œè¯¥å‡½æ•°ä¸ä½œåˆ¤æ–­ï¼Œç›´æ¥ç§»åŠ¨</span>
    <span class="c1">// è°ƒç”¨å‰è¯·è‡ªè¡Œç”¨canMoveå…ˆè¡Œåˆ¤æ–­</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">move</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">temp</span><span class="o">;</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// ç©ºæ ¼å’Œå·¦ä¾§æ•°å­—äº¤æ¢</span>
            <span class="k">case</span> <span class="nl">LEFT:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="c1">// ç©ºæ ¼å’Œå³ä¾§æ•°å­—äº¤æ¢</span>
            <span class="k">case</span> <span class="nl">RIGHT:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="c1">// ç©ºæ ¼å’Œä¸Šæ–¹æ•°å­—äº¤æ¢</span>
            <span class="k">case</span> <span class="nl">UP:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="c1">// ç©ºæ ¼å’Œä¸‹æ–¹æ•°å­—äº¤æ¢</span>
            <span class="k">case</span> <span class="nl">DOWN:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">// è¯¥æ–¹å‘è®°å½•</span>
        <span class="n">moveArr</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">direction</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// æŸä¸ªæ–¹å‘çš„å›é€€ï¼Œè¯¥å‡½æ•°ä¸ä½œåˆ¤æ–­ï¼Œç›´æ¥ç§»åŠ¨</span>
    <span class="c1">// å…¶æ“ä½œå’Œmoveæ–¹æ³•æ­£å¥½ç›¸å</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">moveBack</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">temp</span><span class="o">;</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// ç©ºæ ¼å’Œå·¦ä¾§æ•°å­—äº¤æ¢</span>
            <span class="k">case</span> <span class="nl">LEFT:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="c1">// ç©ºæ ¼å’Œå³ä¾§æ•°å­—äº¤æ¢</span>
            <span class="k">case</span> <span class="nl">RIGHT:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="c1">// ç©ºæ ¼å’Œä¸Šæ–¹æ•°å­—äº¤æ¢</span>
            <span class="k">case</span> <span class="nl">UP:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="c1">// ç©ºæ ¼å’Œä¸‹æ–¹æ•°å­—äº¤æ¢</span>
            <span class="k">case</span> <span class="nl">DOWN:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">];</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">// è®°å½•çš„ç§»åŠ¨æ­¥éª¤å‡ºæ ˆ</span>
        <span class="n">moveArr</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">moveArr</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// è·å–çŠ¶æ€ï¼Œè¿™é‡ŒæŠŠ9ä¸ªæ•°å­—æŒ‰é¡ºåºç»„æˆä¸€ä¸ªæ•´æ•°æ¥ä»£è¡¨çŠ¶æ€</span>
    <span class="c1">// æ–¹æ³•ä¸å”¯ä¸€ï¼Œåªè¦èƒ½åŒºåˆ†ä¹å®«æ ¼çŠ¶æ€å°±è¡Œ</span>
    <span class="kd">private</span> <span class="nc">Integer</span> <span class="nf">getStatus</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">status</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">status</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">status</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// æœç´¢æ–¹æ³•</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">search</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// å¦‚æœèƒ½å¤Ÿæœè¯¥æ–¹å‘è¡Œèµ°</span>
        <span class="k">if</span><span class="o">(</span><span class="n">canMove</span><span class="o">(</span><span class="n">direction</span><span class="o">))</span> <span class="o">{</span>
            <span class="c1">// å¾€è¯¥æ–¹å‘ç§»åŠ¨</span>
            <span class="n">move</span><span class="o">(</span><span class="n">direction</span><span class="o">);</span>
            <span class="c1">// ç§»åŠ¨åçš„çŠ¶æ€</span>
            <span class="nc">Integer</span> <span class="n">status</span> <span class="o">=</span> <span class="n">getStatus</span><span class="o">();</span>
            <span class="c1">// å¦‚æœå·²ç»æ˜¯èƒœåˆ©çŠ¶æ€ï¼Œè¿”å›true</span>
            <span class="k">if</span><span class="o">(</span><span class="no">WIN_STATE</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">status</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="c1">// å¦‚æœæ˜¯ä¹‹å‰èµ°è¿‡çš„çŠ¶æ€äº†ï¼Œè¿”å›false</span>
            <span class="k">if</span><span class="o">(</span><span class="n">statusSet</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">status</span><span class="o">))</span> <span class="o">{</span>
                <span class="c1">// è¿™ä¸€æ­¥èµ°é”™äº†ï¼Œå›é€€</span>
                <span class="n">moveBack</span><span class="o">(</span><span class="n">direction</span><span class="o">);</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="c1">// å°†å½“å‰çŠ¶æ€å­˜å…¥set</span>
            <span class="n">statusSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">status</span><span class="o">);</span>
            <span class="c1">// ç»§ç»­æœå››ä¸ªæ–¹å‘è¿›è¡Œæœç´¢</span>
            <span class="kt">boolean</span> <span class="n">searchFourOk</span> <span class="o">=</span> <span class="n">search</span><span class="o">(</span><span class="no">RIGHT</span><span class="o">)</span> <span class="o">||</span> <span class="n">search</span><span class="o">(</span><span class="no">DOWN</span><span class="o">)</span> <span class="o">||</span> <span class="n">search</span><span class="o">(</span><span class="no">LEFT</span><span class="o">)</span> <span class="o">||</span> <span class="n">search</span><span class="o">(</span><span class="no">UP</span><span class="o">);</span>
            <span class="k">if</span><span class="o">(</span><span class="n">searchFourOk</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c1">// è¿™ä¸€æ­¥èµ°é”™äº†ï¼ŒæŠŠå®ƒçš„è®°å½•å»é™¤</span>
                <span class="n">moveBack</span><span class="o">(</span><span class="n">direction</span><span class="o">);</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// è§£é¢˜å…¥å£æ–¹æ³•</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">solve</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Integer</span> <span class="n">status</span> <span class="o">=</span> <span class="n">getStatus</span><span class="o">();</span>
        <span class="c1">// å¦‚æœå·²ç»æ˜¯èƒœåˆ©çŠ¶æ€ï¼Œè¿”å›true</span>
        <span class="k">if</span><span class="o">(</span><span class="no">WIN_STATE</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">status</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">// åˆå§‹çŠ¶æ€å…ˆè®°å½•</span>
        <span class="n">statusSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">status</span><span class="o">);</span>
        <span class="c1">// æœ4ä¸ªæ–¹å‘è¿›è¡Œæœç´¢</span>
        <span class="k">return</span> <span class="nf">search</span><span class="o">(</span><span class="no">RIGHT</span><span class="o">)</span> <span class="o">||</span> <span class="n">search</span><span class="o">(</span><span class="no">DOWN</span><span class="o">)</span> <span class="o">||</span> <span class="n">search</span><span class="o">(</span><span class="no">LEFT</span><span class="o">)</span> <span class="o">||</span> <span class="n">search</span><span class="o">(</span><span class="no">UP</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// æ‰“å°è·¯å¾„</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printRoute</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">moveArr</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">getDirString</span><span class="o">(</span><span class="n">moveArr</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)));</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">" "</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// æ–¹å‘ä¸å…¶å¯¹åº”çš„å­—ç¬¦ä¸²</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="nf">getDirString</span><span class="o">(</span><span class="kt">int</span> <span class="n">dir</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">dir</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">case</span> <span class="nl">LEFT:</span>
                <span class="k">return</span> <span class="s">"å·¦"</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">RIGHT:</span>
                <span class="k">return</span> <span class="s">"å³"</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">UP:</span>
                <span class="k">return</span> <span class="s">"ä¸Š"</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">DOWN:</span>
                <span class="k">return</span> <span class="s">"ä¸‹"</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// æ‰“å°å½“å‰åå®¹é“çš„çŠ¶æ€</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">" "</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<p>è¿™é‡Œä»£ç ç¼–å†™æ³¨æ„å‡ ç‚¹ï¼Œç¬¬ä¸€ï¼Œæˆ‘ä»¬æ˜¯ä»¥å½“å‰ç©ºæ ¼æ‰€åœ¨ä½ç½®ä½œä¸ºçŠ¶æ€çš„ï¼Œå½“å›æº¯çš„æ—¶å€™ï¼Œæ³¨æ„xï¼ŒyçŠ¶æ€çš„å›å¤ï¼›ç¬¬äºŒï¼Œæˆ‘ä»¬å¯¹äºâ€œå½“å‰å±€é¢â€çš„è®¾å®šï¼Œå½“å‰å±€é¢ä¹Ÿå¯ä»¥ç†è§£ä¸ºå½“å‰çŠ¶æ€ï¼Œä¸€å®šéœ€è¦ä¿è¯å®ƒçš„å”¯ä¸€æ€§ï¼›ç¬¬ä¸‰ï¼Œå†™é€’å½’ä»£ç çš„æ—¶å€™æœ‰å¥—è·¯ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯å…ˆåˆ¤å®šçŠ¶æ€æ˜¯å¦æ»¡è¶³ï¼Œå¦‚æœæ»¡è¶³å°±ç›´æ¥è¿”å›çœŸï¼Œä¸æ»¡è¶³çš„è¯å†åˆ¤æ–­çŠ¶æ€é›†é‡Œé¢æ˜¯å¦å·²ç»æœ‰äº†æ­¤çŠ¶æ€ï¼Œæœ‰çš„è¯ç›´æ¥å›æº¯å¹¶è¿”å›å‡ï¼Œç´§æ¥ç€å°±æ˜¯æœç´¢ï¼Œæœç´¢å®Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³ï¼Œä¸æ»¡è¶³å°±å›æº¯ã€‚</p>

<p>å¥½äº†ï¼Œè®©æˆ‘ä»¬å†™ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ¥æµ‹è¯•ä¸€ä¸‹ä»£ç ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[][]</span> <span class="n">arr</span><span class="o">=(</span><span class="err">æ­¤å¤„æœ‰</span><span class="n">jekyll</span><span class="err">æ¸²æŸ“é—®é¢˜ï¼Œè¯·è¯»è€…è‡ªè¡Œåœ¨è¿™é‡Œæ„é€ ä¸€ä¸ªäºŒç»´æ•°ç»„</span><span class="o">);</span>
        <span class="nc">HuaRongDao</span> <span class="n">huaRongDao</span><span class="o">=</span><span class="k">new</span> <span class="nc">HuaRongDao</span><span class="o">(</span><span class="n">arr</span><span class="o">);</span>
        <span class="n">huaRongDao</span><span class="o">.</span><span class="na">solve</span><span class="o">();</span>
        <span class="n">huaRongDao</span><span class="o">.</span><span class="na">printRoute</span><span class="o">();</span>
        <span class="n">huaRongDao</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>but! ä¸å¹¸çš„äº‹æƒ…å‘ç”Ÿäº†ï¼š</p>

<p><img src="http://image.augustrush8.com/images/hua16.png" alt="" class="center" /></p>

<p>æ ˆæº¢å‡ºäº†ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>

<p><img src="http://image.augustrush8.com/images/hua17.png" alt="" class="center" /></p>

<p>é‚£ä¹ˆæˆ‘ä»¬æ”¹ä¸€æ”¹ä»£ç ï¼ŒæŠŠsearchå‡½æ•°å…¥å£é‡Œé¢çš„åˆ¤æ–­æ¡ä»¶æ”¹ä¸€æ”¹ï¼š</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span><span class="o">(</span><span class="n">canMove</span><span class="o">(</span><span class="n">direction</span><span class="o">)&amp;&amp;</span> <span class="n">moveArr</span><span class="o">.</span><span class="na">size</span><span class="o">()&lt;</span><span class="mi">100</span><span class="o">)</span>
</code></pre></div></div>

<p>å†æ¥æµ‹è¯•åŒæ ·çš„æµ‹è¯•ç”¨ä¾‹</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ä¸‹ å³ 
1 2 3 
4 5 6 
7 8 0 
</code></pre></div></div>

<p>è¿™å°±å¾—åˆ°äº†æ­£ç¡®çš„ç»“æœã€‚</p>

<p>ä»¥ä¸Šï¼Œå°±æ˜¯æ·±åº¦æœç´¢äº†ï¼Œæ·±åº¦æœç´¢å°±åƒä¸€ä¸ªæ­»é’»ç‰›è§’å°–çš„äººä¸€æ ·ï¼Œä¸æ’å—å¢™ä¸å›å¤´ã€‚</p>

<p>ä½†ä¸Šé¢è¿™é“é¢˜ï¼Œå…¶å®æ›´é€‚åˆä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæ˜¯å…ˆæœç´¢æ¯ä¸€ä¸ªå¯è¡Œæ–¹å‘çš„ç¬¬ä¸€æ­¥ï¼Œç„¶åå†æ¥ç€æœç´¢æ¯ä¸€ä¸ªå¯è¡Œæ–¹å‘çš„ç¬¬äºŒæ­¥ã€‚ä»¥æ­¤ç±»æ¨ã€‚</p>

<p>ç®€å•ç†è§£å°±æ˜¯ï¼Œæ¯åˆ°ä¸€ä¸ªå²”è·¯å£ï¼Œå°±ä¼šåˆ†æˆå¤šæ³¢äººåœ¨æ¯ä¸€ä¸ªæ–¹å‘ä¸Šå»è¿›è¡Œæœç´¢ã€‚</p>

<p><img src="http://image.augustrush8.com/images/hua18.png" alt="" class="center" /></p>

<p>å¹¿åº¦ä¼˜å…ˆæœç´¢å°±æ²¡æœ‰å›æº¯çš„å¿…è¦äº†ã€‚ä¸å†ä½¿ç”¨é€’å½’äº†</p>

<p>å¹¿åº¦æœç´¢å¯ä»¥å°†è¦æœç´¢çš„åˆå§‹çŠ¶æ€åŠ åˆ°ä¸€ä¸ª<strong>é˜Ÿåˆ—</strong>é‡Œï¼Œç„¶åæ¯æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªçŠ¶æ€ï¼Œå¾€å¯ä»¥å‰è¿›çš„æ–¹å‘å‰è¿›ä¸€æ­¥ï¼Œç„¶åå†å°†è¯¥çŠ¶æ€æ”¾åˆ°é˜Ÿåˆ—ã€‚åˆ©ç”¨é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„ç‰¹ç‚¹ï¼Œå°±å¯ä»¥å®ç°å¹¿æœçš„æ•ˆæœã€‚è¿™å’Œä¹‹å‰æ·±æœçš„å¯¹æ¯”ä¸€ä¸‹å°±èƒ½çœ‹å‡ºæ¥äº†ï¼Œ<strong>æ·±æœæ˜¯æ ˆçš„æœ€ä½³ä½“ç°ï¼Œè€Œå¹¿æœåˆ™æ›´å¤šçš„ä½“ç°ä¸€ç§é˜Ÿåˆ—çš„æ€æƒ³</strong>ã€‚</p>

<p>é‚£ä¹ˆï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨å¹¿åº¦æœç´¢ï¼Œå¦‚ä½•åˆ¤æ–­èƒœåˆ©çŠ¶æ€å‘¢ï¼Ÿå¦‚æœé˜Ÿåˆ—ç©ºäº†è¿˜æ²¡æœ‰æ‰¾åˆ°å‡ºå£ï¼Œè¯´æ˜æ‰€æœ‰çš„æ–¹å‘éƒ½æ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆè‡ªç„¶å°±æ— æ³•èƒœåˆ©äº†ã€‚</p>

<p>ç„¶åï¼Œæ€ä¹ˆè®°å½•è¿™æ¡èƒœåˆ©çš„è·¯å¾„å‘¢ï¼Ÿå…¶å®åªè¦æ¯ä¸€æ­¥éƒ½è®°å½•ä¸Šä¸€æ­¥çš„çŠ¶æ€å’Œè¿™æ¬¡çš„æ–¹å‘å³å¯ã€‚è¿™æ ·åœ¨è¾¾åˆ°æœ€ç»ˆèƒœåˆ©çŠ¶æ€çš„æ—¶å€™ï¼Œå¯ä»¥æ‰¾åˆ°è¿™ä¸ªçŠ¶æ€çš„ä¸Šä¸€æ­¥ã€‚è€Œä¸Šä¸€æ­¥åˆå¯ä»¥æ‰¾åˆ°ä¸Šä¸Šæ­¥ï¼Œè¿™å°±æ˜¯é“¾è¡¨çš„ç‰¹å¾äº†ã€‚</p>

<p>æœ‰äº†ä¸Šé¢çš„åŸºç¡€ï¼Œç»§ç»­æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.util.HashSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HuaRongDao</span> <span class="o">{</span>

    <span class="c1">// å®šä¹‰æ–¹å‘</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">LEFT</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">RIGHT</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">UP</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DOWN</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>

    <span class="c1">// å®šä¹‰è¾…åŠ©æ•°ç»„ï¼ˆæ­¤å¤„æœ‰Jekyllæ¸²æŸ“é—®é¢˜ï¼Œè¿è¡Œæ—¶æ·»åŠ æ–¹å‘äºŒç»´æ•°ç»„{0, -1}, {0, 1}, {-1, 0}, {1, 0}ï¼‰</span>
    <span class="c1">//private static final int[][] dxdy = .....</span>

    <span class="c1">// 3x3çš„ä¹å®«æ ¼</span>
    <span class="kd">private</span> <span class="kt">int</span><span class="o">[][]</span> <span class="n">arr</span><span class="o">;</span>

    <span class="c1">// è®°å½•ç©ºæ ¼çš„ä½ç½®</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">x</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">y</span><span class="o">;</span>

    <span class="c1">// å®šä¹‰ç§»åŠ¨çš„æ•°ç»„</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">moveArr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>

    <span class="c1">// å®šä¹‰ç»ˆç‚¹çŠ¶æ€</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">Integer</span> <span class="no">WIN_STATE</span> <span class="o">=</span> <span class="mi">123456780</span><span class="o">;</span>

    <span class="c1">// ä¿å­˜å·²ç»æœç´¢è¿‡çš„çŠ¶æ€</span>
    <span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">statusSet</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>

    <span class="c1">// ä»£è¡¨å¹¿æœçš„æ¯ä¸€æ­¥ï¼Œé€šè¿‡lastItemé“¾èµ·æ¥</span>
    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">SearchItem</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="nc">Integer</span> <span class="n">status</span><span class="o">;</span>
        <span class="kd">private</span> <span class="nc">Integer</span> <span class="n">dir</span><span class="o">;</span>
        <span class="kd">private</span> <span class="nc">SearchItem</span> <span class="n">lastItem</span><span class="o">;</span>
        <span class="nc">SearchItem</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">status</span><span class="o">,</span> <span class="nc">Integer</span> <span class="n">dir</span><span class="o">,</span> <span class="nc">SearchItem</span> <span class="n">lastItem</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">status</span> <span class="o">=</span> <span class="n">status</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">dir</span> <span class="o">=</span> <span class="n">dir</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">lastItem</span> <span class="o">=</span> <span class="n">lastItem</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">getStatus</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">status</span><span class="o">;}</span>
        <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">getDir</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">dir</span><span class="o">;}</span>
        <span class="kd">public</span> <span class="nc">SearchItem</span> <span class="nf">getLastItem</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">lastItem</span><span class="o">;}</span>
    <span class="o">}</span>

    <span class="c1">// å¹¿æœçš„å­˜å‚¨é˜Ÿåˆ—</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">SearchItem</span><span class="o">&gt;</span> <span class="n">statusToSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="nc">SearchItem</span><span class="o">&gt;();</span>

    <span class="c1">// åˆå§‹åŒ–ï¼Œæ•°å­—0ä»£è¡¨ç©ºæ ¼ï¼Œå…ˆéå†ï¼Œæ‰¾å‡ºç©ºæ ¼çš„ä½ç½®</span>
    <span class="kd">public</span> <span class="nf">HuaRongDao</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">arr</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">arr</span> <span class="o">=</span> <span class="n">arr</span><span class="o">;</span>
        <span class="n">getXY</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// è·å–ç©ºæ ¼çš„xå’Œyåæ ‡</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">getXY</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// åˆ¤æ–­æ˜¯å¦å¯ä»¥æœæŸä¸ªæ–¹å‘è¿›è¡Œç§»åŠ¨</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">canMove</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// y &gt; 0æ‰èƒ½å·¦ç§»</span>
            <span class="k">case</span> <span class="nl">LEFT:</span>
                <span class="k">return</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
            <span class="c1">// y &lt; 2æ‰èƒ½å³ç§»</span>
            <span class="k">case</span> <span class="nl">RIGHT:</span>
                <span class="k">return</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">;</span>
            <span class="c1">// x &gt; 0æ‰èƒ½ä¸Šç§»</span>
            <span class="k">case</span> <span class="nl">UP:</span>
                <span class="k">return</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
            <span class="c1">// x &lt; 2æ‰èƒ½ä¸‹ç§»</span>
            <span class="k">case</span> <span class="nl">DOWN:</span>
                <span class="k">return</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// æ‰¾å‡ºè¯¥æ–¹å‘çš„ç›¸åæ–¹å‘</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">getBackDir</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// y &gt; 0æ‰èƒ½å·¦ç§»</span>
            <span class="k">case</span> <span class="nl">LEFT:</span>
                <span class="k">return</span> <span class="no">RIGHT</span><span class="o">;</span>
            <span class="c1">// y &lt; 2æ‰èƒ½å³ç§»</span>
            <span class="k">case</span> <span class="nl">RIGHT:</span>
                <span class="k">return</span> <span class="no">LEFT</span><span class="o">;</span>
            <span class="c1">// x &gt; 0æ‰èƒ½ä¸Šç§»</span>
            <span class="k">case</span> <span class="nl">UP:</span>
                <span class="k">return</span> <span class="no">DOWN</span><span class="o">;</span>
            <span class="c1">// x &lt; 2æ‰èƒ½ä¸‹ç§»</span>
            <span class="k">case</span> <span class="nl">DOWN:</span>
                <span class="k">return</span> <span class="no">UP</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// æœæŸä¸ªæ–¹å‘è¿›è¡Œç§»åŠ¨ï¼Œè¯¥å‡½æ•°ä¸ä½œåˆ¤æ–­ï¼Œç›´æ¥ç§»åŠ¨</span>
    <span class="c1">// è°ƒç”¨å‰è¯·è‡ªè¡Œç”¨canMoveå…ˆè¡Œåˆ¤æ–­</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">move</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">temp</span><span class="o">;</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">dxdy</span><span class="o">[</span><span class="n">direction</span><span class="o">][</span><span class="mi">0</span><span class="o">]][</span><span class="n">y</span> <span class="o">+</span> <span class="n">dxdy</span><span class="o">[</span><span class="n">direction</span><span class="o">][</span><span class="mi">1</span><span class="o">]];</span>
        <span class="n">arr</span><span class="o">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">dxdy</span><span class="o">[</span><span class="n">direction</span><span class="o">][</span><span class="mi">0</span><span class="o">]][</span><span class="n">y</span> <span class="o">+</span> <span class="n">dxdy</span><span class="o">[</span><span class="n">direction</span><span class="o">][</span><span class="mi">1</span><span class="o">]]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">dxdy</span><span class="o">[</span><span class="n">direction</span><span class="o">][</span><span class="mi">0</span><span class="o">];</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="n">dxdy</span><span class="o">[</span><span class="n">direction</span><span class="o">][</span><span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span>

    <span class="c1">// æŸä¸ªæ–¹å‘çš„å‰è¿›ï¼Œè¯¥å‡½æ•°ä¸ä½œåˆ¤æ–­ï¼Œç›´æ¥ç§»åŠ¨</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">moveForward</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">move</span><span class="o">(</span><span class="n">direction</span><span class="o">);</span>
        <span class="c1">// è¯¥æ–¹å‘è®°å½•</span>
        <span class="n">moveArr</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">direction</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// æŸä¸ªæ–¹å‘çš„å›é€€ï¼Œè¯¥å‡½æ•°ä¸ä½œåˆ¤æ–­ï¼Œç›´æ¥ç§»åŠ¨</span>
    <span class="c1">// å…¶æ“ä½œå’ŒmoveForwardæ–¹æ³•æ­£å¥½ç›¸å</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">moveBack</span><span class="o">(</span><span class="kt">int</span> <span class="n">direction</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">move</span><span class="o">(</span><span class="n">getBackDir</span><span class="o">(</span><span class="n">direction</span><span class="o">));</span>
        <span class="c1">// è®°å½•çš„ç§»åŠ¨æ­¥éª¤å‡ºæ ˆ</span>
        <span class="n">moveArr</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">moveArr</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// è·å–çŠ¶æ€ï¼Œè¿™é‡ŒæŠŠ9ä¸ªæ•°å­—æŒ‰é¡ºåºç»„æˆä¸€ä¸ªæ•´æ•°æ¥ä»£è¡¨çŠ¶æ€</span>
    <span class="c1">// æ–¹æ³•ä¸å”¯ä¸€ï¼Œåªè¦èƒ½åŒºåˆ†ä¹å®«æ ¼çŠ¶æ€å°±è¡Œ</span>
    <span class="kd">public</span> <span class="nc">Integer</span> <span class="nf">getStatus</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">status</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">status</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">];</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">status</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// æ ¹æ®çŠ¶æ€è¿˜åŸä¹å®«æ ¼æ•°ç»„</span>
    <span class="c1">// è¯¥æ–¹æ³•æ˜¯getStatusçš„é€†è¿‡ç¨‹</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">recoverStatus</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">status</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">arr</span><span class="o">[</span><span class="mi">2</span> <span class="o">-</span> <span class="n">i</span><span class="o">][</span><span class="mi">2</span> <span class="o">-</span> <span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="n">status</span> <span class="o">%</span> <span class="mi">10</span><span class="o">;</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">status</span> <span class="o">/</span> <span class="mi">10</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">getXY</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// æœç´¢æ–¹æ³•</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">search</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// å¦‚æœè¿˜æœ‰è¦æœç´¢çš„çŠ¶æ€</span>
        <span class="k">while</span><span class="o">(</span><span class="n">statusToSearch</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// é˜Ÿé¦–å‡ºåˆ—</span>
            <span class="nc">SearchItem</span> <span class="n">item</span> <span class="o">=</span> <span class="n">statusToSearch</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
            <span class="nc">Integer</span> <span class="n">status</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="na">getStatus</span><span class="o">();</span>
            <span class="c1">// æœåˆ°äº†</span>
            <span class="k">if</span><span class="o">(</span><span class="n">status</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="no">WIN_STATE</span><span class="o">))</span> <span class="o">{</span>
                <span class="c1">// æ‰¾åˆ°è·¯å¾„</span>
                <span class="n">recordRoute</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="c1">// æ ¹æ®statusè¿˜åŸarrå’Œxï¼Œy</span>
            <span class="n">recoverStatus</span><span class="o">(</span><span class="n">status</span><span class="o">);</span>
            <span class="c1">// 4ä¸ªæ–¹å‘è¿›è¡Œéå†</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="c1">// å¦‚æœèƒ½å¤Ÿæœè¯¥æ–¹å‘è¡Œèµ°</span>
                <span class="k">if</span><span class="o">(</span><span class="n">canMove</span><span class="o">(</span><span class="n">i</span><span class="o">))</span> <span class="o">{</span>
                    <span class="c1">// å‘å‰ä¸€æ­¥</span>
                    <span class="n">moveForward</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                    <span class="n">status</span> <span class="o">=</span> <span class="n">getStatus</span><span class="o">();</span>
                    <span class="c1">// ä¹‹å‰æœè¿‡çš„çŠ¶æ€</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">statusSet</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">status</span><span class="o">))</span> <span class="o">{</span>
                        <span class="n">moveBack</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                        <span class="c1">// æ”¾å¼ƒ</span>
                        <span class="k">continue</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="c1">// æ–°çŠ¶æ€åŠ å…¥å¾…æœç´¢</span>
                    <span class="n">statusSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">status</span><span class="o">);</span>
                    <span class="n">statusToSearch</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">SearchItem</span><span class="o">(</span><span class="n">status</span><span class="o">,</span> <span class="n">i</span><span class="o">,</span> <span class="n">item</span><span class="o">));</span>
                    <span class="n">moveBack</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// è§£é¢˜å…¥å£æ–¹æ³•</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">solve</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Integer</span> <span class="n">status</span> <span class="o">=</span> <span class="n">getStatus</span><span class="o">();</span>
        <span class="c1">// å¦‚æœå·²ç»æ˜¯èƒœåˆ©çŠ¶æ€ï¼Œè¿”å›true</span>
        <span class="k">if</span><span class="o">(</span><span class="no">WIN_STATE</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">status</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">// åˆå§‹çŠ¶æ€å…ˆè®°å½•</span>
        <span class="n">statusSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">status</span><span class="o">);</span>
        <span class="c1">// åˆå§‹çŠ¶æ€è¿›å…¥æœç´¢é˜Ÿåˆ—</span>
        <span class="n">statusToSearch</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">SearchItem</span><span class="o">(</span><span class="n">status</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">));</span>
        <span class="k">return</span> <span class="nf">search</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// æ ¹æ®é“¾è¡¨é¡ºè—¤æ‘¸ç“œï¼Œæ‰¾åˆ°è·¯å¾„</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">recordRoute</span><span class="o">(</span><span class="nc">SearchItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">while</span><span class="o">(</span><span class="kc">null</span> <span class="o">!=</span> <span class="n">item</span><span class="o">.</span><span class="na">getLastItem</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">moveArr</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">getDir</span><span class="o">());</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="na">getLastItem</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// æ‰“å°è·¯å¾„</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printRoute</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">moveArr</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">getDirString</span><span class="o">(</span><span class="n">moveArr</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)));</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">" "</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">// æ–¹å‘ä¸å…¶å¯¹åº”çš„å­—ç¬¦ä¸²</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="nf">getDirString</span><span class="o">(</span><span class="kt">int</span> <span class="n">dir</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">dir</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">case</span> <span class="nl">LEFT:</span>
                <span class="k">return</span> <span class="s">"å·¦"</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">RIGHT:</span>
                <span class="k">return</span> <span class="s">"å³"</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">UP:</span>
                <span class="k">return</span> <span class="s">"ä¸Š"</span><span class="o">;</span>
            <span class="k">case</span> <span class="nl">DOWN:</span>
                <span class="k">return</span> <span class="s">"ä¸‹"</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// æ‰“å°å½“å‰åå®¹é“çš„çŠ¶æ€</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]);</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">" "</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<p>çœ‹çœ‹æµ‹è¯•ç”¨ä¾‹ï¼š</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 2 3 
4 5 6 
8 7 0 
æ— æ³•èƒœåˆ©
1 2 3 
4 0 6 
7 5 8 
å¯ä»¥èƒœåˆ©ï¼Œè·¯å¾„ä¸ºï¼šä¸‹ å³ 
3 4 1 
5 6 0 
8 2 7 
å¯ä»¥èƒœåˆ©ï¼Œè·¯å¾„ä¸ºï¼šå·¦ å·¦ ä¸Š å³ ä¸‹ å·¦ ä¸‹ å³ å³ ä¸Š å·¦ å·¦ ä¸‹ å³ ä¸Š ä¸Š å³ ä¸‹ å·¦ å·¦ ä¸Š å³ ä¸‹ å³ ä¸‹ 

Process finished with exit code 0
</code></pre></div></div>

<h3 id="æ€»ç»“">æ€»ç»“</h3>

<p>æ€»ç»“ä¸€ä¸‹æ·±æœå’Œå¹¿æœçš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯ã€‚</p>

<p>å…¶å®å¹¿æœæ¯”æ·±æœå¤šäº†ä¸€ä¸ªé˜Ÿåˆ—æ¥å­˜å‚¨è¦æœç´¢çš„çŠ¶æ€ï¼Œä½†å®ƒå´èƒ½å¤Ÿå¾—åˆ°æœ€ä¼˜è§£ï¼Œå±äºç©ºé—´æ¢æ—¶é—´ã€‚</p>

<p>è€Œæ·±æœçš„é€‚ç”¨åœºæ™¯ä¹Ÿå°±å¾ˆæ˜æ˜¾äº†ï¼Œå¦‚æœè¿™é“é¢˜çš„è¦æ±‚æ˜¯æ±‚æ‰€æœ‰è§£ï¼Œæ·±æœçš„ç©ºé—´æ›´å°‘ï¼Œç¼–ç ä¹Ÿè¦ç®€å•ä¸€äº›ï¼Œæ‰€ä»¥æ›´åŠ é€‚åˆ</p>
:ET