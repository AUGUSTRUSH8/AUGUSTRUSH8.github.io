I"…G<blockquote>
  <p>ç¼˜èµ·ï¼šå¼€å‘å½“ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚â€”æ ¹æ®åå°æä¾›çš„è´¢åŠ¡æ•°æ®ï¼ˆå¤šåŠæ˜¯ä¸€äº›å…¬å¸çš„æœˆåº¦æˆ–å­£åº¦å¹´åº¦è´¢åŠ¡æŠ¥å‘Šã€èµ„äº§è´Ÿå€ºè¡¨ç­‰ï¼‰ï¼Œè‡ªåŠ¨æ¨¡æ‹Ÿç™»å½•å½“åœ°æŠ¥ç¨ç½‘ç«™ï¼Œè‡ªåŠ¨å®Œæˆformè¡¨å•çš„å¡«å†™å’Œæäº¤ï¼Œç„¶åéœ€è¦è·Ÿè¸ªæŠ¥ç¨è¿›åº¦ã€‚</p>
</blockquote>

<p><strong>åˆ†æ</strong>ï¼šè¿™å…¶ä¸­çš„å·¥ä½œï¼Œå¤§ä½“å¯æ‹†åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µ</p>

<ul>
  <li>ç¬¬ä¸€ï¼Œç›¸å…³å…¬å¸æŠ¥ç¨è´Ÿè´£äººçš„ç™»å½•ä¿¡æ¯ï¼Œå¯è§£æå¯¹åº”å­˜å‚¨æ–‡ä»¶è·å–</li>
  <li>ç¬¬äºŒï¼Œæ ¹æ®æŠ¥ç¨äººçš„è´¦å·å¯†ç ç™»å½•æŠ¥ç¨ç½‘ç«™</li>
  <li>ç¬¬ä¸‰ï¼Œæ ¹æ®è´¢åŠ¡æŠ¥è¡¨é€ä¸ªè§£æå¹¶åˆ‡åˆ†é¡µé¢è¿›è¡Œå¡«å†™ï¼Œæœ€ç»ˆæäº¤</li>
</ul>

<p><strong>éš¾ç‚¹</strong>ï¼šå…¶ä¸­éš¾ç‚¹ä¹Ÿæ˜¯æ¯”è¾ƒå¤šçš„</p>

<ul>
  <li>ç¬¬ä¸€ï¼ŒæŠ¥ç¨ç½‘ç«™é‡‡å–çš„æ˜¯RSAéå¯¹ç§°åŠ å¯†æ–¹å¼è®¤è¯ç”¨æˆ·ç™»å½•</li>
  <li>ç¬¬äºŒï¼Œç½‘ç«™ç™»é™†é¡µæœ‰å›¾ç‰‡éªŒè¯ç </li>
  <li>ç¬¬ä¸‰ï¼Œé¡µé¢é‡‡å–çš„æŠ€æœ¯æ¯”è¾ƒè€ï¼Œä½¿ç”¨çš„æ˜¯iframeåµŒå…¥çš„æ–¹å¼</li>
  <li>ç¬¬å››ï¼Œé¡µé¢æ•°æ®å¤šé‡‡ç”¨å¼‚æ­¥åŠ è½½çš„æ–¹å¼ï¼Œå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±æŠŠæŸäº›æ•°æ®æ¸²æŸ“åˆ°é¡µé¢çš„ã€‚ï¼ˆè¿™å½“ç„¶å’¯ï¼‰</li>
  <li>ç¬¬äº”ï¼Œé¡µé¢æœ¬èº«å¾ˆå¤šè¡¨å•é¡¹å¹¶ä¸éƒ½æ˜¯é å¡«å†™è¿›å»çš„ï¼Œå½“å¡«å†™å®ŒæŸä¸€é¡¹ä¹‹åï¼Œå…¶ä»–çš„æŸäº›é¡¹å¯ä»¥è‡ªè¡Œåº”ç”¨jsè¿›è¡Œè®¡ç®—</li>
</ul>

<h4 id="å°è¯•">å°è¯•</h4>

<p>ç”±äºä»¥å‰å¹¶æ²¡æœ‰æ¥è§¦è¿‡è¿™ç±»ä¸šåŠ¡ï¼Œä½¿ç”¨çš„æŠ€æœ¯åªæœ‰ä¸€ä¸ªå¤§æ¦‚çš„æ–¹å‘ï¼Œå¹¶ä¸æ˜æœ—ã€‚æ‰€ä»¥ç»è¿‡æŸ¥èµ„æ–™çœ‹ç›¸ä¼¼é¡¹ç›®æºç å¤§ä½“çŸ¥é“å¯ä»¥ä½¿ç”¨çˆ¬è™«çš„æ–¹å¼è§£å†³</p>

<ul>
  <li>å…ˆä½¿ç”¨httpclientè¿˜æœ‰jsoupçš„åŸç”Ÿæ–¹å¼è¿›è¡Œè¯·æ±‚è§£æï¼Œå…¶ä¸­ç™»å½•è¿›å»è·å–tokenè´¹äº†ä¸å°‘åŠŸå¤«ï¼Œæ„é€ åŠ å¯†è¯·æ±‚ä¸²ï¼Œè·å–éªŒè¯ç å¹¶æ™ºèƒ½è¯†åˆ«å­—ç¬¦ã€‚ã€‚ã€‚æœ€åç»ˆäºå¦‚æ„¿ä»¥å¿</li>
  <li>ç„¶è€Œæœ€åè¿˜æ˜¯å¡åœ¨äº†iframeæ ‡ç­¾ä¸Šï¼Œæ€»æ˜¯æ— æ³•åŠ è½½iframeå½“ä¸­çš„å†…å®¹ï¼ŒStackOverflowç­‰å„ä¸ªåœ°æ–¹éƒ½æœ‰å»é—®è¯¢äº†è§£ï¼Œç„¶è€Œè¿˜æ˜¯å¡ä½äº†ï¼Œå…¶å®æ˜¯å¯ä»¥è§£å†³çš„ã€‚ä½†æˆ‘è½¬å¿µå†å»è€ƒè™‘è¿™ä¸ªä¸šåŠ¡ç‰¹ç‚¹çš„æ—¶å€™çªç„¶å‘ç°seleniumé©±åŠ¨æµè§ˆå™¨ä¸å¤±ä¸ºä¸€ä¸ªå¥½åŠæ³•ï¼</li>
</ul>

<p>æ‰€ä»¥è¯ç”Ÿäº†ä¸‹é¢çš„è§£å†³æ–¹æ¡ˆï¼ŒPython+Selenium+Webdriver</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">'''
Created on 2018å¹´10æœˆ30æ—¥

@author: AUGUSTRUSH
'''</span>
<span class="s">'''
dzswj.cq-l-tax.gov.cn
12366.cqsw.gov.cn
ä»¥ä¸Šä¸¤ä¸ªç½‘å€éƒ½å¯ä»¥ç™»è¿›ç³»ç»Ÿ

å°è¯•ä½¿ç”¨OCRçš„æ–¹å¼è¯†åˆ«éªŒè¯ç ï¼Œä½†å‘½ä¸­è¯†åˆ«ç‡è¾ƒä½ï¼Œå› æ­¤æ”¾å¼ƒä½¿ç”¨
å¯å°†éªŒè¯ç å‘é€ç»™ç‚¹å‡»ä¸€é”®çº³ç¨çš„å®¢æˆ·ï¼Œè®©ç”¨æˆ·è¾“å…¥ç»“æœ
ä¸ºé¿å…å¤šä¸ªç”¨æˆ·åŒæ—¶å‘èµ·è¯·æ±‚ï¼Œå¯é˜Ÿåˆ—é™åˆ¶è¯·æ±‚é¢‘ç‡
'''</span>
<span class="c1">#å‰æï¼šéœ€è¦pipåè€…condaå®‰è£…seleniumåŒ…
</span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.chrome.options</span> <span class="kn">import</span> <span class="n">Options</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="c1">#ç™»å½•å‡½æ•°
</span><span class="k">def</span> <span class="nf">Login</span><span class="p">(</span><span class="n">driver</span><span class="p">):</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"http://12366.cqsw.gov.cn:7004/ssoserver/login"</span><span class="p">)</span>
    <span class="c1">#å»¶æ—¶ä¸€ç§’
</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1">#æˆªå–å½“å‰ç™»å½•é¡µé¢å›¾ç‰‡å¹¶ä¿å­˜
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">save_screenshot</span><span class="p">(</span><span class="s">"../saved_images/æŠ¥ç¨ç½‘é¦–é¡µ.png"</span><span class="p">)</span>
    <span class="c1">#è·å–å½“å‰éœ€è¦ç™»å½•çš„ç”¨æˆ·åå¯†ç 
</span>    <span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">),</span> <span class="o">=</span> <span class="n">readCSVFile</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="c1">#è¾“å…¥è´¦å·
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"username"</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
    <span class="c1">#è¾“å…¥å¯†ç 
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s">"password"</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
    <span class="c1">#ä¿å­˜éªŒè¯ç çš„å›¾ç‰‡
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">save_screenshot</span><span class="p">(</span><span class="s">"../saved_images/éªŒè¯ç .png"</span><span class="p">)</span>
    <span class="c1">#é˜»å¡è¾“å…¥éªŒè¯ç 
</span>    <span class="n">check_code</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"è¯·è¾“å…¥éªŒè¯ç :"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">r"éªŒè¯ç æ˜¯å¤šå°‘:</span><span class="si">%</span><span class="s">s"</span> <span class="o">%</span> <span class="n">check_code</span><span class="p">)</span>
    <span class="c1">#å‘ç™»å½•é¡µé¢è¾“å…¥éªŒè¯ç ä¿¡æ¯
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"captcha"</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">check_code</span><span class="p">)</span>
    <span class="c1">#ç‚¹å‡»ç™»å½•æŒ‰é’®
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s">"//*[@id=</span><span class="se">\"</span><span class="s">zrrLoginBtn</span><span class="se">\"</span><span class="s">]"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="c1">#ä¼‘çœ ä¸€ä¸‹ç­‰å¾…ç™»å½•æˆåŠŸ
</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1">#ä¿å­˜ç™»å½•æˆåŠŸçš„å¿«ç…§
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">save_screenshot</span><span class="p">(</span><span class="s">"../saved_images/ç™»å½•æˆåŠŸ.png"</span><span class="p">)</span>
    <span class="c1">#æ¶ˆé™¤å¼¹çª—æç¤º æ­¤å¤„éœ€æ³¨æ„ï¼Œè¯¥ç½‘ç«™ä¼šä¸å®šæœŸçš„åœ¨åˆæ¬¡ç™»å½•æ—¶å€™å¼¹å‡ºé€šçŸ¥ä¿¡æ¯æ¡†
</span>    <span class="c1">#å› æ­¤è¿™é‡Œçš„å¼¹çª—ä¿¡æ¯æ˜¯ä¸ç¡®å®šçš„ï¼Œä½†æ¯æ¬¡éƒ½æ˜¯è°ƒç”¨ç›¸åŒçš„å¼¹çª—ç»„ä»¶æç¤ºæ˜¾ç¤ºï¼Œ
</span>    <span class="c1">#æ‰€ä»¥ä»¥ä¸‹æ‰§è¡Œä¸¤æ¬¡å…³é—­å¼¹çª—ç‚¹å‡»
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"closeWid"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">"closeWid"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="c1">#æˆªå–ç‚¹å‡»å®Œå¼¹çª—æŒ‰é’®åçš„é¡µé¢
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">save_screenshot</span><span class="p">(</span><span class="s">"../saved_images/æ¶ˆé™¤å¼¹çª—ä¸»é¡µé¢.png"</span><span class="p">)</span>
    <span class="c1">#é”€æ¯æ— å¤´æµè§ˆå™¨è¿›ç¨‹--é‡è¦ï¼Œå¦åˆ™ä¼šä¸€ç›´é˜»å¡
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="c1">#ç‚¹å‡»"ç”³è¯·çº³ç¨"æŒ‰é’®
</span><span class="k">def</span> <span class="nf">clickPayTaxButton</span><span class="p">(</span><span class="n">driver</span><span class="p">):</span>
    <span class="c1">#ç‚¹å‡»ç”³æŠ¥çº³ç¨aæ ‡ç­¾
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s">"//*[@id=</span><span class="se">\"</span><span class="s">left-contain</span><span class="se">\"</span><span class="s">]/ul[1]/li[2]/ul/li[4]/a"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
<span class="c1">#begin----å¢å€¼ç¨çº³ç¨å‡½æ•°æ¨¡å—èµ·å§‹
#ç‚¹å‡»"å¢å€¼ç¨å°è§„æ¨¡çº³ç¨äººç”³æŠ¥"aæ ‡ç­¾
#æ­¤å¤„ä¼šè·¨åŸŸè¯·æ±‚è·å–èµ„æºï¼Œå¹¶å±•ç°åœ¨å½“å‰é¡µé¢å½“ä¸­ï¼Œå½“å‰window_handle
</span><span class="k">def</span> <span class="nf">clickThroughVATaTag</span><span class="p">():</span>
    <span class="c1">#ç‚¹å‡»å¢å€¼ç¨çº³ç¨aæ ‡ç­¾
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s">"//*[@id=</span><span class="se">\"</span><span class="s">left-contain</span><span class="se">\"</span><span class="s">]/ul[1]/li[2]/ul/li[4]/ul/li[1]/a"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="c1">#ä¿å­˜æˆªå›¾
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">save_screenshot</span><span class="p">(</span><span class="s">"../saved_images/å¢å€¼ç¨.png"</span><span class="p">)</span>
    <span class="c1">#ä¿å­˜å½“å‰é¡µé¢çš„htmlåˆ°æœ¬åœ°
</span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"../saved_htmlFile/cqTax.html"</span><span class="p">,</span><span class="s">"w"</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">driver</span><span class="o">.</span><span class="n">page_source</span><span class="p">)</span>
    <span class="c1">#åˆ‡æ¢åˆ°iframeé‡Œé¢å»
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">switch_to</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="s">"mainframe"</span><span class="p">)</span>
    <span class="c1">#ç‚¹å‡»å¡«è¡¨ç”³æŠ¥
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s">"/html/body/div[2]/div[2]/ul[1]/li[5]/a"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">();</span>
    <span class="c1">#ç‚¹å‡»åç­‰å¾…5ç§’
</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># æ‹¿åˆ°æ‰€æœ‰çš„çª—å£
</span>    <span class="n">allHandles</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">window_handles</span>
    <span class="n">routeWindowHandle</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">routeTitle</span> <span class="o">=</span> <span class="s">'None'</span>
    <span class="k">for</span> <span class="n">handle</span> <span class="ow">in</span> <span class="n">allHandles</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">handle</span><span class="o">!=</span><span class="n">driver</span><span class="o">.</span><span class="n">current_window_handle</span><span class="p">:</span>
            <span class="c1">#åˆ‡æ¢åˆ°æ–°å¼€é¡µé¢
</span>            <span class="n">driver</span><span class="o">.</span><span class="n">switch_to_window</span><span class="p">(</span><span class="n">handle</span><span class="p">)</span>
            <span class="n">routeWindowHandle</span><span class="o">=</span><span class="n">driver</span><span class="o">.</span><span class="n">current_window_handle</span>
            <span class="n">routeTitle</span><span class="o">=</span><span class="n">driver</span><span class="o">.</span><span class="n">title</span>
            <span class="k">break</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">"4. switch to routeWindow, routeWindowHandle = {routeWindowHandle},routeTitle = {routeTitle}, currentHandle = {driver.current_window_handle}, currentTitle = {driver.title}"</span><span class="p">)</span>
    <span class="c1">#æˆªå–å½“å‰é¡µé¢
</span>    <span class="n">driver</span><span class="o">.</span><span class="n">save_screenshot</span><span class="p">(</span><span class="s">"../saved_images/ç‚¹å‡»å¡«è¡¨ç”³æŠ¥ä»¥å.png"</span><span class="p">)</span>
<span class="c1">#end----å¢å€¼ç¨çº³ç¨å‡½æ•°æ¨¡å—ç»“æŸ
</span><span class="k">def</span> <span class="nf">readCSVFile</span><span class="p">():</span>
    <span class="c1"># è¯»å–csvè‡³å­—å…¸
</span>    <span class="n">csvFile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"../usernameAndPassword/userInfo.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csvFile</span><span class="p">)</span>
    <span class="c1"># å»ºç«‹ç©ºå­—å…¸
</span>    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="c1"># å¿½ç•¥ç¬¬ä¸€è¡Œ
</span>        <span class="k">if</span> <span class="n">reader</span><span class="o">.</span><span class="n">line_num</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">result</span><span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">csvFile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1">#åˆå§‹åŒ–æµè§ˆå™¨
</span>    <span class="n">chrome_options</span> <span class="o">=</span> <span class="n">Options</span><span class="p">()</span>
    <span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'window-size=1366x768'</span><span class="p">)</span> <span class="c1">#æŒ‡å®šæµè§ˆå™¨åˆ†è¾¨ç‡
</span>    <span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'--disable-gpu'</span><span class="p">)</span> <span class="c1">#è°·æ­Œæ–‡æ¡£æåˆ°éœ€è¦åŠ ä¸Šè¿™ä¸ªå±æ€§æ¥è§„é¿bug
</span>    <span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'--hide-scrollbars'</span><span class="p">)</span> <span class="c1">#éšè—æ»šåŠ¨æ¡, åº”å¯¹ä¸€äº›ç‰¹æ®Šé¡µé¢
</span>    <span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'--headless'</span><span class="p">)</span> <span class="c1">#æµè§ˆå™¨ä¸æä¾›å¯è§†åŒ–é¡µé¢. linuxä¸‹å¦‚æœç³»ç»Ÿä¸æ”¯æŒå¯è§†åŒ–ä¸åŠ è¿™æ¡ä¼šå¯åŠ¨å¤±è´¥
</span>    <span class="c1">#åˆå§‹åŒ–ä¸€ä¸ªå±€éƒ¨å¯¹è±¡driver
</span>    <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">executable_path</span><span class="o">=</span><span class="s">"../chrome_driverFile/chromedriver_win32/chromedriver.exe"</span><span class="p">,</span><span class="n">chrome_options</span><span class="o">=</span><span class="n">chrome_options</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">driver</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="c1">#è·å¾—åˆå§‹åŒ–äº†å‚æ•°çš„driverå¯¹è±¡ï¼Œå®ƒä¸€æ—¦åˆå§‹åŒ–å°±å…¨å±€ä½¿ç”¨
</span>    <span class="n">driver</span><span class="o">=</span><span class="n">main</span><span class="p">()</span>
    <span class="c1">#æ‰§è¡Œç™»å½•æ“ä½œ
</span>    <span class="n">Login</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"ç™»å½•ç»“æŸ"</span><span class="p">)</span>
    <span class="c1">#é¦–é¡µæ‰“å¼€åï¼Œé»˜è®¤ä¼šå±•å¼€"åŠç¨æœåŠ¡"ä¸‹æ‹‰èœå•ï¼Œç„¶åéœ€è¦
</span>    <span class="c1">#ç‚¹å‡»"ç”³è¯·çº³ç¨"å­èœå•ï¼Œå¦åˆ™ä¼šæŠ¥invisibleå¼‚å¸¸ï¼ˆæ‰€è§å³æ‰€å¾—ï¼‰
</span>    <span class="n">clickPayTaxButton</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span>

</code></pre></div></div>

<p>è¿™å…¶ä¸­æ¶‰åŠåˆ°æŒºå¤šçŸ¥è¯†ç‚¹çš„ï¼Œéœ€è¦æœ‰ä¸ªæ•´ä½“çš„æŠŠæ§ã€‚</p>
:ET